{% extends 'owner/base.html' %}

{% load static %}
{% block extra_css %} 
<link rel="stylesheet" href="{% static 'core/styles/owner/club_forum_form.css' %}">
{% endblock extra_css %}
<title>{% block title %}Club Forum Form{% endblock %}</title>

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <div class="card shadow-lg rounded-lg bg-dark text-white">
        <div class="card-header text-center border-0">
          <h3 class="mb-0">Create a New Room</h3>
        </div>
        <div class="card-body">
          <form id="forum-form" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            
            <!-- Room Title -->
            <div class="form-group mb-3">
              {{ form.title.label_tag }}
              {{ form.title }}
            </div>
          
            <!-- Description -->
            <div class="form-group mb-3">
              {{ form.content.label_tag }}
              {{ form.content }}
            </div>
          
            <!-- Custom File Upload -->
            <div class="form-group mb-3 text-center">
              <label for="image" class="btn btn-upload-image">
               <i class="fa-solid fa-image mr-2"></i> Upload Image
              </label>
              {{ form.image }}
            </div>
          
            <!-- Image Preview -->
            <div class="mb-3 text-center">
              <img id="image-preview" alt="Image Preview" class="img-fluid rounded d-none" style="max-height: 300px;" />
            </div>
          
            <!-- Submit Button -->
            <button type="submit" class="btn create-room-btn w-100">Create Room</button>
          </form>
          
        </div>
        <div class="card-footer arrow-back text-center border-0">
          <a href="javascript:history.back()" class="arrow-back"> <i class="fas fa-arrow-left mr-2"></i> Back</a>
        </div>
      </div>
    </div>
  </div>
</div>





<script>
  function previewImage(event) {
    const preview = document.getElementById('image-preview');
    const file = event.target.files[0];

    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        preview.src = e.target.result;
        preview.classList.remove('d-none');
      };
      reader.readAsDataURL(file);
    } else {
      preview.src = '#';
      preview.classList.add('d-none');
    }
  }
</script>
{% endblock content %}