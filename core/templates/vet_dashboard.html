<div class="container py-5">

  <!-- Search Client Section -->
  <div class="search-owner-container rounded mb-5 p-4">
    <h5 class="mb-4 font-weight-bold">🔍 Search Client by ID</h5>
    <div class="search-bar">
      <form method="get" action="" class="mb-3">
        <input type="text" name="q" class="form-control" placeholder="Search for rooms..." value="{{ request.GET.q }}">
      </form>
    </div>

    <div id="clientResult">
      {% for pet_owner in pet_owners %}
      <div class="card owner-card mb-3">
        <div class="card-body d-flex flex-wrap align-items-center justify-content-between">
          
          <!-- Avatar + Name -->
          <div class="d-flex align-items-center flex-grow-1 mb-2 mb-md-0">
            {% if pet_owner.user.profile_picture %}
            <img src="{{ pet_owner.user.profile_picture.url }}" alt="avatar"
                 class="rounded-circle mr-3" width="60" height="60" style="object-fit: cover;">
            {% endif %}
            <div>
              <span class="d-block font-weight-bold">{{ pet_owner.first_name }} {{ pet_owner.last_name }}</span>
              <span class="badge badge-info">ID: {{pet_owner.owner_id}}</span>
            </div>
          </div>

          <!-- Button -->
          <form action="{% url 'add-past-client' pet_owner.id %}" method="POST" class="ml-auto">
            {% csrf_token %}
            <button type="submit" class="btn view-pets btn-sm btn-block btn-md-auto">
              View Pets
            </button>
          </form>

        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Past Clients Section -->
  <div class="search-owner-container p-4">
    <h5 class="mb-4 font-weight-bold">📋 Past Clients</h5>
    <div class="search-bar">
      <form method="get" action="" class="mb-3">
        <input type="text" name="p" class="form-control" placeholder="Search for rooms..." value="{{ request.GET.p }}">
      </form>
    </div>

    <!-- Scrollable List for Many Clients -->
    <div class="past-clients" style="max-height: 500px; overflow-y: auto;">
      {% for regular_client in regular_clients %}
      <div class="card owner-card mb-3">
        <div class="card-body d-flex flex-wrap align-items-center justify-content-between">
          
          <!-- Avatar + Name -->
          <div class="d-flex align-items-center flex-grow-1 mb-2 mb-md-0">
            {% if regular_client.user.profile_picture %}
            <img src="{{ regular_client.user.profile_picture.url }}" alt="avatar"
                 class="rounded-circle mr-3" width="60" height="60" style="object-fit: cover;">
            {% endif %}
            <div>
              <span class="d-block font-weight-bold">{{regular_client.first_name}} {{regular_client.last_name}}</span>
              <span class="badge badge-info">ID: {{regular_client.owner_id}}</span>
            </div>
          </div>

          <!-- Button -->
          <a href="{% url 'owner-pets-page' regular_client.id %}" class="btn view-pets btn-sm btn-block btn-md-auto">
            View Pets
          </a>

        </div>
      </div>
      {% empty %}
      <p>No Clients</p>
      {% endfor %}
    </div>
  </div>

</div>
